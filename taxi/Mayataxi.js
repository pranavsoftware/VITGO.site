const _0xf59b86=_0x30e2;(function(_0x6f75d2,_0x14ac73){const _0x2813f5=_0x30e2,_0xe08815=_0x6f75d2();while(!![]){try{const _0x5a65a1=-parseInt(_0x2813f5(0x126))/0x1*(parseInt(_0x2813f5(0x132))/0x2)+parseInt(_0x2813f5(0x127))/0x3*(parseInt(_0x2813f5(0x134))/0x4)+parseInt(_0x2813f5(0x14a))/0x5+-parseInt(_0x2813f5(0x168))/0x6*(-parseInt(_0x2813f5(0x158))/0x7)+-parseInt(_0x2813f5(0x12a))/0x8+parseInt(_0x2813f5(0x12c))/0x9+-parseInt(_0x2813f5(0x157))/0xa;if(_0x5a65a1===_0x14ac73)break;else _0xe08815['push'](_0xe08815['shift']());}catch(_0x43ab1c){_0xe08815['push'](_0xe08815['shift']());}}}(_0x4b9d,0xdf235));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js';import{getAuth,onAuthStateChanged,signOut}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-auth.js';import{getFirestore,collection,updateDoc,onSnapshot,doc,query,orderBy,getDocs,setDoc}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js';const firebaseConfig={'apiKey':_0xf59b86(0x16e),'authDomain':'easycab-71fcf.firebaseapp.com','databaseURL':_0xf59b86(0x16d),'projectId':_0xf59b86(0x131),'storageBucket':_0xf59b86(0x169),'messagingSenderId':_0xf59b86(0x13d),'appId':_0xf59b86(0x140)},app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app);onAuthStateChanged(auth,_0x43de85=>{const _0x4830bd=_0xf59b86;_0x43de85?_0x43de85[_0x4830bd(0x159)]!==_0x4830bd(0x179)&&(window[_0x4830bd(0x139)][_0x4830bd(0x161)]=_0x4830bd(0x170)):window[_0x4830bd(0x139)]['href']=_0x4830bd(0x170);});function _0x30e2(_0x458689,_0x4a6556){const _0x4b9d3e=_0x4b9d();return _0x30e2=function(_0x30e24a,_0x208e58){_0x30e24a=_0x30e24a-0x123;let _0x17135a=_0x4b9d3e[_0x30e24a];return _0x17135a;},_0x30e2(_0x458689,_0x4a6556);}const bookingsTable=document[_0xf59b86(0x16a)](_0xf59b86(0x154))[_0xf59b86(0x138)](_0xf59b86(0x177))[0x0],searchBar=document[_0xf59b86(0x16a)](_0xf59b86(0x130));onSnapshot(query(collection(db,_0xf59b86(0x16b)),orderBy(_0xf59b86(0x129),_0xf59b86(0x153))),_0x2a87b3=>{const _0x4f0621=_0xf59b86;bookingsTable[_0x4f0621(0x144)]='',_0x2a87b3['forEach'](_0x55ad0f=>{const _0x287fd3=_0x4f0621,_0x2e7af1=_0x55ad0f[_0x287fd3(0x166)](),_0x4ccc73=bookingsTable[_0x287fd3(0x17a)]();_0x4ccc73[_0x287fd3(0x13f)](0x0)[_0x287fd3(0x178)]=_0x55ad0f['id'],_0x4ccc73[_0x287fd3(0x13f)](0x1)['textContent']=_0x2e7af1[_0x287fd3(0x13b)],_0x4ccc73[_0x287fd3(0x13f)](0x2)[_0x287fd3(0x178)]=_0x2e7af1[_0x287fd3(0x175)],_0x4ccc73[_0x287fd3(0x13f)](0x3)[_0x287fd3(0x178)]=_0x2e7af1[_0x287fd3(0x135)],_0x4ccc73[_0x287fd3(0x13f)](0x4)[_0x287fd3(0x178)]=_0x2e7af1['to'];const _0x290dfe=new Date(_0x2e7af1[_0x287fd3(0x129)]),_0x2ae71c=formatDate(_0x290dfe),_0x1608f4=formatTime(_0x2e7af1[_0x287fd3(0x133)]);_0x4ccc73[_0x287fd3(0x13f)](0x5)[_0x287fd3(0x178)]=_0x2ae71c,_0x4ccc73['insertCell'](0x6)['textContent']=_0x1608f4,_0x4ccc73['insertCell'](0x7)['textContent']=_0x2e7af1[_0x287fd3(0x172)],_0x4ccc73[_0x287fd3(0x13f)](0x8)[_0x287fd3(0x178)]=_0x2e7af1[_0x287fd3(0x12d)];const _0x15ab00=_0x4ccc73[_0x287fd3(0x13f)](0x9);if(!_0x2e7af1['driverDetails']){const _0x299b0=document['createElement'](_0x287fd3(0x163));_0x299b0[_0x287fd3(0x178)]=_0x287fd3(0x143),_0x299b0['onclick']=()=>openDriverDetailsModal(_0x55ad0f['id'],_0x2e7af1),_0x15ab00[_0x287fd3(0x152)](_0x299b0);}else _0x15ab00['innerHTML']=_0x287fd3(0x13e)+(_0x2e7af1[_0x287fd3(0x136)][_0x287fd3(0x124)]||_0x287fd3(0x147))+_0x287fd3(0x13c)+(_0x2e7af1['driverDetails'][_0x287fd3(0x155)]||_0x287fd3(0x147))+_0x287fd3(0x174)+(_0x2e7af1[_0x287fd3(0x136)][_0x287fd3(0x123)]||'N/A')+_0x287fd3(0x148)+(_0x2e7af1['driverDetails'][_0x287fd3(0x15f)]||_0x287fd3(0x147))+_0x287fd3(0x137)+formatTime(_0x2e7af1[_0x287fd3(0x136)][_0x287fd3(0x149)])+_0x287fd3(0x14b)+(_0x2e7af1[_0x287fd3(0x136)][_0x287fd3(0x125)]||'N/A')+_0x287fd3(0x145)+(_0x2e7af1[_0x287fd3(0x136)][_0x287fd3(0x12d)]||_0x2e7af1[_0x287fd3(0x12d)]||_0x287fd3(0x15d))+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';});});function formatDate(_0x16e0d0){const _0xecd405=_0xf59b86;return String(_0x16e0d0[_0xecd405(0x165)]())[_0xecd405(0x14d)](0x2,'0')+'/'+String(_0x16e0d0[_0xecd405(0x14c)]()+0x1)[_0xecd405(0x14d)](0x2,'0')+'/'+_0x16e0d0[_0xecd405(0x14e)]();}function formatTime(_0xd860f1){const _0x59be7c=_0xf59b86;if(!_0xd860f1)return'N/A';const [_0x37cf20,_0x354445]=_0xd860f1[_0x59be7c(0x176)](':'),_0x2a1bb4=parseInt(_0x37cf20,0xa),_0x5682fd=_0x2a1bb4>=0xc?'PM':'AM',_0x4a8aa7=_0x2a1bb4%0xc||0xc;return String(_0x4a8aa7)['padStart'](0x2,'0')+':'+String(_0x354445)['padStart'](0x2,'0')+'\x20'+_0x5682fd;}searchBar[_0xf59b86(0x12b)]('keyup',function(){const _0x18304d=_0xf59b86,_0x29b2ed=searchBar[_0x18304d(0x151)][_0x18304d(0x13a)](),_0xc09e6b=bookingsTable['getElementsByTagName']('tr');for(let _0x5bb344 of _0xc09e6b){const _0x34e99e=_0x5bb344['cells'][0x0]['textContent'][_0x18304d(0x13a)]();_0x5bb344[_0x18304d(0x142)][_0x18304d(0x156)]=_0x34e99e[_0x18304d(0x146)](_0x29b2ed)?'':'none';}}),document['getElementById']('signOutBtn')[_0xf59b86(0x141)]=()=>{const _0x98193a=_0xf59b86;signOut(auth)['then'](()=>{const _0x3dcd7f=_0x30e2;window[_0x3dcd7f(0x139)][_0x3dcd7f(0x161)]=_0x3dcd7f(0x170);})[_0x98193a(0x171)](_0xcce37a=>{const _0x5e87cf=_0x98193a;console[_0x5e87cf(0x164)](_0x5e87cf(0x150),_0xcce37a);});};function _0x4b9d(){const _0x1b2c8c=['12Dqxnmq','closeModal','date','3360304YtVPjk','addEventListener','15083082yoDddA','message','then','none','searchBar','easycab-71fcf','348916BfFecB','time','786668SRHnSX','from','driverDetails','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Pick\x20Time:</strong>\x20','getElementsByTagName','location','toLowerCase','car','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Cab:</strong>\x20','621065707054','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22driver-details\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Driver:</strong>\x20','insertCell','1:621065707054:web:8b47875a751d361f2e09bf','onclick','style','Send\x20Driver\x20Details','innerHTML','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Message:</strong>\x20','includes','N/A','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Phone:</strong>\x20','estimatedPickTime','6062615ROIaWk','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Amount:</strong>\x20','getMonth','padStart','getFullYear','name','Sign\x20Out\x20Error','value','appendChild','desc','bookings-table','cabName','display','24550100HXOaIl','693434UhMgmL','email','driverDetailsModal','driverDetailsForm','Error\x20sending\x20driver\x20details:\x20','No\x20message','onsubmit','phone','preventDefault','href','Driver\x20details\x20sent\x20successfully!','button','error','getDate','data','block','102lCpWLu','easycab-71fcf.appspot.com','getElementById','bookings','selectedIndex','https://easycab-71fcf-default-rtdb.firebaseio.com','AIzaSyCDD_suBufBLAXzLjV0YPoIq1XU_nOVaBQ','createElement','../face/index.html','catch','paymentMode','drivers','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Taxi\x20No:</strong>\x20','noOfStudents','split','tbody','textContent','easycab.site@gmail.com','insertRow','taxiNumber','driverName','amount','9gWcKVC'];_0x4b9d=function(){return _0x1b2c8c;};return _0x4b9d();}function openDriverDetailsModal(_0x160f08,_0xa23f16){const _0x81fea0=_0xf59b86,_0xbaa58d=document['getElementById'](_0x81fea0(0x15a));_0xbaa58d[_0x81fea0(0x142)][_0x81fea0(0x156)]=_0x81fea0(0x167);const _0x1daf25=document[_0x81fea0(0x16a)]('driverSelect');_0x1daf25[_0x81fea0(0x144)]='',getDocs(collection(db,_0x81fea0(0x173)))[_0x81fea0(0x12e)](_0x14c29a=>{_0x14c29a['forEach'](_0x3e696b=>{const _0x56968e=_0x30e2,_0x3476a4=_0x3e696b['data'](),_0x51ce67=document[_0x56968e(0x16f)]('option');_0x51ce67[_0x56968e(0x151)]=_0x3e696b['id'],_0x51ce67[_0x56968e(0x178)]=_0x3476a4[_0x56968e(0x14f)],_0x1daf25[_0x56968e(0x152)](_0x51ce67);});}),document[_0x81fea0(0x16a)](_0x81fea0(0x128))[_0x81fea0(0x141)]=()=>{const _0x231855=_0x81fea0;_0xbaa58d[_0x231855(0x142)][_0x231855(0x156)]=_0x231855(0x12f);},document[_0x81fea0(0x16a)](_0x81fea0(0x15b))[_0x81fea0(0x15e)]=async _0x446a8c=>{const _0x14775f=_0x81fea0;_0x446a8c[_0x14775f(0x160)]();const _0x3a8d6e=_0x1daf25[_0x14775f(0x151)],_0xf78190={'driverName':_0x1daf25['options'][_0x1daf25[_0x14775f(0x16c)]]['text'],'cabName':document[_0x14775f(0x16a)](_0x14775f(0x155))[_0x14775f(0x151)],'taxiNumber':document['getElementById'](_0x14775f(0x123))[_0x14775f(0x151)],'phone':document['getElementById'](_0x14775f(0x15f))['value'],'estimatedPickTime':document['getElementById'](_0x14775f(0x149))[_0x14775f(0x151)],'amount':document[_0x14775f(0x16a)](_0x14775f(0x125))[_0x14775f(0x151)],'message':document[_0x14775f(0x16a)]('message')['value']};try{await updateDoc(doc(db,_0x14775f(0x16b),_0x160f08),{'driverDetails':_0xf78190}),_0xf78190['message']=document['getElementById'](_0x14775f(0x12d))[_0x14775f(0x151)]||_0xa23f16['message'],await setDoc(doc(db,_0x14775f(0x173),_0x3a8d6e,_0x14775f(0x16b),_0x160f08),{'bookingId':_0x160f08,'car':_0xa23f16['car'],'noOfStudents':_0xa23f16[_0x14775f(0x175)],'from':_0xa23f16['from'],'to':_0xa23f16['to'],'date':_0xa23f16['date'],'time':_0xa23f16[_0x14775f(0x133)],'paymentMode':_0xa23f16[_0x14775f(0x172)],'message':_0xa23f16[_0x14775f(0x12d)],'driverDetails':_0xf78190}),alert(_0x14775f(0x162)),_0xbaa58d['style'][_0x14775f(0x156)]='none';}catch(_0x328df2){console[_0x14775f(0x164)](_0x14775f(0x15c),_0x328df2);}};}
