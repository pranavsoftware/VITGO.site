function _0x3546(_0x3da1a0,_0x2309d5){const _0x963feb=_0x963f();return _0x3546=function(_0x3546c1,_0x330b0a){_0x3546c1=_0x3546c1-0x1e6;let _0x3a92b8=_0x963feb[_0x3546c1];return _0x3a92b8;},_0x3546(_0x3da1a0,_0x2309d5);}const _0xde3831=_0x3546;(function(_0x386cd5,_0x426f9b){const _0x197fa0=_0x3546,_0x5cdc77=_0x386cd5();while(!![]){try{const _0x120137=parseInt(_0x197fa0(0x231))/0x1+-parseInt(_0x197fa0(0x215))/0x2*(parseInt(_0x197fa0(0x22c))/0x3)+-parseInt(_0x197fa0(0x216))/0x4+parseInt(_0x197fa0(0x1f7))/0x5*(-parseInt(_0x197fa0(0x202))/0x6)+parseInt(_0x197fa0(0x210))/0x7*(parseInt(_0x197fa0(0x1f3))/0x8)+parseInt(_0x197fa0(0x221))/0x9*(parseInt(_0x197fa0(0x1f1))/0xa)+-parseInt(_0x197fa0(0x1f5))/0xb*(-parseInt(_0x197fa0(0x1ff))/0xc);if(_0x120137===_0x426f9b)break;else _0x5cdc77['push'](_0x5cdc77['shift']());}catch(_0x504f86){_0x5cdc77['push'](_0x5cdc77['shift']());}}}(_0x963f,0xb2488));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js';import{getAuth,onAuthStateChanged,signOut}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-auth.js';import{getFirestore,collection,onSnapshot,query,orderBy,doc,updateDoc,getDoc}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js';const firebaseConfig={'apiKey':'AIzaSyCDD_suBufBLAXzLjV0YPoIq1XU_nOVaBQ','authDomain':_0xde3831(0x209),'databaseURL':_0xde3831(0x1fa),'projectId':_0xde3831(0x1f0),'storageBucket':'easycab-71fcf.appspot.com','messagingSenderId':_0xde3831(0x1fe),'appId':_0xde3831(0x22a)},app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app),bookingsTableBody=document['querySelector'](_0xde3831(0x21a)),signOutBtn=document[_0xde3831(0x1ea)]('signOutBtn'),searchBar=document[_0xde3831(0x1ea)](_0xde3831(0x20d)),driverDetailsModal=document[_0xde3831(0x1ea)](_0xde3831(0x22b)),closeModal=document[_0xde3831(0x1ea)](_0xde3831(0x229)),driverDetailsForm=document['getElementById'](_0xde3831(0x212));let currentBookingId=null;const checkAuthorization=()=>{onAuthStateChanged(auth,_0x458caa=>{const _0x1596f2=_0x3546;if(_0x458caa){const _0x2d170f=_0x458caa[_0x1596f2(0x1ec)]['split']('@')[0x1];_0x2d170f!=='emp-easycab.site'?(console['error'](_0x1596f2(0x222)),window[_0x1596f2(0x21c)]['href']=_0x1596f2(0x204)):fetchBookings();}else window[_0x1596f2(0x21c)][_0x1596f2(0x214)]=_0x1596f2(0x204);});},fetchBookings=()=>{const _0x4ac8ca=_0xde3831,_0x801822=collection(db,_0x4ac8ca(0x233)),_0x13ed99=query(_0x801822,orderBy(_0x4ac8ca(0x20f),_0x4ac8ca(0x200)));onSnapshot(_0x13ed99,_0x8e4070=>{const _0x1a5ebf=_0x4ac8ca;bookingsTableBody[_0x1a5ebf(0x208)]='',_0x8e4070['forEach'](_0x5d44cd=>{const _0x43b00a=_0x1a5ebf,_0x15ce2f={'id':_0x5d44cd['id'],..._0x5d44cd[_0x43b00a(0x1f6)]()},_0x4a6420=document[_0x43b00a(0x228)]('tr');_0x4a6420[_0x43b00a(0x208)]=_0x43b00a(0x1e8)+_0x15ce2f['id']+_0x43b00a(0x230)+_0x15ce2f[_0x43b00a(0x20a)]+_0x43b00a(0x230)+_0x15ce2f['noOfStudents']+_0x43b00a(0x230)+_0x15ce2f['from']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x15ce2f['to']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x15ce2f['date']+_0x43b00a(0x230)+_0x15ce2f[_0x43b00a(0x213)]+_0x43b00a(0x230)+_0x15ce2f[_0x43b00a(0x1f8)]+_0x43b00a(0x230)+_0x15ce2f['message']+_0x43b00a(0x211)+(_0x15ce2f[_0x43b00a(0x227)]?_0x43b00a(0x1ef)+_0x15ce2f['driverName']+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Phone:</strong>\x20'+_0x15ce2f['driverPhone']+'</p>':_0x43b00a(0x21f))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22view-driver\x22\x20data-id=\x22'+_0x15ce2f['id']+_0x43b00a(0x206),bookingsTableBody[_0x43b00a(0x1eb)](_0x4a6420);}),document[_0x1a5ebf(0x20c)](_0x1a5ebf(0x1f9))['forEach'](_0x4c5e0d=>{const _0x2204b1=_0x1a5ebf;_0x4c5e0d[_0x2204b1(0x21d)](_0x2204b1(0x22f),()=>{const _0x229da8=_0x2204b1,_0x5a5253=_0x4c5e0d[_0x229da8(0x1e9)]('data-id');showDriverDetails(_0x5a5253);});});});},showDriverDetails=_0x3f134f=>{const _0x2ebe38=_0xde3831;currentBookingId=_0x3f134f;const _0x3efb64=doc(db,_0x2ebe38(0x233),_0x3f134f);getDoc(_0x3efb64)[_0x2ebe38(0x1e6)](_0x5d99e4=>{const _0x176706=_0x2ebe38;if(_0x5d99e4[_0x176706(0x235)]()){const _0x900ea7=_0x5d99e4[_0x176706(0x1f6)]();document[_0x176706(0x1ea)]('driver')[_0x176706(0x20b)]=_0x900ea7[_0x176706(0x227)]||'',document['getElementById']('cabName')[_0x176706(0x20b)]=_0x900ea7[_0x176706(0x224)]||'',document[_0x176706(0x1ea)](_0x176706(0x220))[_0x176706(0x20b)]=_0x900ea7[_0x176706(0x220)]||'',document[_0x176706(0x1ea)]('phone')[_0x176706(0x20b)]=_0x900ea7[_0x176706(0x1fd)]||'',document[_0x176706(0x1ea)](_0x176706(0x205))[_0x176706(0x20b)]=_0x900ea7[_0x176706(0x205)]||'',document['getElementById'](_0x176706(0x226))[_0x176706(0x203)]=_0x900ea7['message']||'',document[_0x176706(0x1ea)](_0x176706(0x207))['value']=_0x900ea7['driverMessage']||'',document[_0x176706(0x1ea)](_0x176706(0x234))['value']=_0x900ea7[_0x176706(0x234)]||'',document['getElementById'](_0x176706(0x234))[_0x176706(0x1fb)]=_0x900ea7[_0x176706(0x234)]?!![]:![],driverDetailsModal[_0x176706(0x21b)][_0x176706(0x20e)]=_0x176706(0x22e);}else console[_0x176706(0x218)]('No\x20such\x20document!');})[_0x2ebe38(0x1e7)](_0x2598b3=>{console['error']('Error\x20fetching\x20document:\x20',_0x2598b3);});};function _0x963f(){const _0x511131=['Error\x20updating\x20document:\x20','72OMaiWA','includes','707201AeIECV','data','2340IrVKPq','paymentMode','.view-driver','https://easycab-71fcf-default-rtdb.firebaseio.com','disabled','phone','driverPhone','621065707054','396IoIQdt','desc','preventDefault','9282RfTzev','textContent','../Driver\x20&\x20Taxi\x20Login/EMP_Login.html','estimatedPickTime','\x22>View/Edit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','driverMessage','innerHTML','easycab-71fcf.firebaseapp.com','car','value','querySelectorAll','searchBar','display','date','269220gFxiId','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','driverDetailsForm','time','href','1014gpLLTK','4301488uYgkYx','input','error','driver','#bookings-table\x20tbody','style','location','addEventListener','toLowerCase','No\x20Driver\x20Assigned','taxiNumber','45dMdbYi','Unauthorized\x20access\x20attempt.','Current\x20Booking\x20ID\x20is\x20not\x20defined.','cabName','none','bookingMessage','driverName','createElement','closeModal','1:621065707054:web:8b47875a751d361f2e09bf','driverDetailsModal','1893JozQgb','getElementsByTagName','block','click','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','353165gfOimx','submit','bookings','amount','exists','then','catch','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','getAttribute','getElementById','appendChild','email','cells','Sign\x20Out\x20Error','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Name:</strong>\x20','easycab-71fcf','57250zloSQz'];_0x963f=function(){return _0x511131;};return _0x963f();}driverDetailsForm['addEventListener'](_0xde3831(0x232),_0x114fd2=>{const _0x14eb34=_0xde3831;_0x114fd2[_0x14eb34(0x201)]();if(currentBookingId){const _0x3b8906={'driverName':document[_0x14eb34(0x1ea)](_0x14eb34(0x219))[_0x14eb34(0x20b)],'cabName':document['getElementById'](_0x14eb34(0x224))[_0x14eb34(0x20b)],'taxiNumber':document[_0x14eb34(0x1ea)](_0x14eb34(0x220))[_0x14eb34(0x20b)],'driverPhone':document[_0x14eb34(0x1ea)](_0x14eb34(0x1fc))[_0x14eb34(0x20b)],'estimatedPickTime':document[_0x14eb34(0x1ea)](_0x14eb34(0x205))[_0x14eb34(0x20b)],'driverMessage':document[_0x14eb34(0x1ea)]('driverMessage')[_0x14eb34(0x20b)],'amount':parseFloat(document[_0x14eb34(0x1ea)](_0x14eb34(0x234))[_0x14eb34(0x20b)])||0x0};updateDoc(doc(db,_0x14eb34(0x233),currentBookingId),_0x3b8906)[_0x14eb34(0x1e6)](()=>{const _0x54e6a5=_0x14eb34;driverDetailsModal[_0x54e6a5(0x21b)]['display']=_0x54e6a5(0x225),fetchBookings();})['catch'](_0x2e1aa4=>{const _0x134526=_0x14eb34;console['error'](_0x134526(0x1f2),_0x2e1aa4);});}else console[_0x14eb34(0x218)](_0x14eb34(0x223));}),closeModal[_0xde3831(0x21d)](_0xde3831(0x22f),()=>{const _0x32f0fa=_0xde3831;driverDetailsModal['style'][_0x32f0fa(0x20e)]=_0x32f0fa(0x225);}),searchBar[_0xde3831(0x21d)](_0xde3831(0x217),()=>{const _0x386f52=_0xde3831,_0x1bf9e0=searchBar['value'][_0x386f52(0x21e)](),_0x3a349f=bookingsTableBody[_0x386f52(0x22d)]('tr');for(let _0x29aa4c of _0x3a349f){const _0x3a926a=_0x29aa4c[_0x386f52(0x1ed)][0x0][_0x386f52(0x203)][_0x386f52(0x21e)]();_0x29aa4c[_0x386f52(0x21b)]['display']=_0x3a926a[_0x386f52(0x1f4)](_0x1bf9e0)?'':'none';}}),signOutBtn['addEventListener'](_0xde3831(0x22f),()=>{const _0x52efe7=_0xde3831;signOut(auth)[_0x52efe7(0x1e6)](()=>{const _0x484111=_0x52efe7;window[_0x484111(0x21c)][_0x484111(0x214)]=_0x484111(0x204);})[_0x52efe7(0x1e7)](_0x23749a=>{const _0x5cfe1f=_0x52efe7;console[_0x5cfe1f(0x218)](_0x5cfe1f(0x1ee),_0x23749a);});}),checkAuthorization();
