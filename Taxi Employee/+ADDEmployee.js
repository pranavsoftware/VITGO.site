const _0x5d735c=_0x2110;(function(_0x2e8408,_0x147204){const _0x1b6951=_0x2110,_0x4d83a3=_0x2e8408();while(!![]){try{const _0x1e4a17=-parseInt(_0x1b6951(0x153))/0x1+-parseInt(_0x1b6951(0x16e))/0x2*(parseInt(_0x1b6951(0x170))/0x3)+parseInt(_0x1b6951(0x158))/0x4+-parseInt(_0x1b6951(0x17b))/0x5+parseInt(_0x1b6951(0x16b))/0x6+parseInt(_0x1b6951(0x162))/0x7*(parseInt(_0x1b6951(0x178))/0x8)+parseInt(_0x1b6951(0x155))/0x9*(-parseInt(_0x1b6951(0x15d))/0xa);if(_0x1e4a17===_0x147204)break;else _0x4d83a3['push'](_0x4d83a3['shift']());}catch(_0x577ce1){_0x4d83a3['push'](_0x4d83a3['shift']());}}}(_0x26e6,0x3ae53));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js';import{getFirestore,collection,addDoc,getDocs,query,where,setDoc,doc}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js';import{getStorage,ref,uploadBytes,getDownloadURL}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-storage.js';import{getAuth,createUserWithEmailAndPassword,onAuthStateChanged,signOut}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-auth.js';const firebaseConfig={'apiKey':_0x5d735c(0x165),'authDomain':_0x5d735c(0x14c),'projectId':'easycab-71fcf','storageBucket':_0x5d735c(0x14f),'messagingSenderId':_0x5d735c(0x14a),'appId':_0x5d735c(0x16d)},app=initializeApp(firebaseConfig),db=getFirestore(app),storage=getStorage(app),auth=getAuth(app);function _0x26e6(){const _0x51c415=['toLowerCase','style','block','submit','getElementById','1925262DsHhQC','licenceNumber','1:621065707054:web:8b47875a751d361f2e09bf','8FXyqeY','replace','109479ZGWaCp','className','name','email','uid','user','TAXIemployee','popup-message\x20error','144kZgMRo','password','split','838775EizFDK','value','Error:\x20','621065707054','popup-message\x20success','easycab-71fcf.firebaseapp.com','age','employeeForm','easycab-71fcf.appspot.com','drivers/','/profilePics/','../Driver\x20&\x20Taxi\x20Login/EMP_Login.html','68610LqaRpH','reset','9pXSMnK','empty','addEventListener','1481896BCTEzP','textContent','then','none','preventDefault','1040490ToJKWh','files','location','display','profilePic','14105kPQAMo','error','popupMessage','AIzaSyCDD_suBufBLAXzLjV0YPoIq1XU_nOVaBQ'];_0x26e6=function(){return _0x51c415;};return _0x26e6();}function _0x2110(_0x2ea471,_0x529cc8){const _0x26e6bf=_0x26e6();return _0x2110=function(_0x211054,_0x33da1e){_0x211054=_0x211054-0x148;let _0x14daee=_0x26e6bf[_0x211054];return _0x14daee;},_0x2110(_0x2ea471,_0x529cc8);}onAuthStateChanged(auth,_0x3a720e=>{const _0x5b707f=_0x5d735c;if(_0x3a720e){const _0x1a9e01=_0x3a720e[_0x5b707f(0x173)][_0x5b707f(0x17a)]('@')[0x1];_0x1a9e01!=='emp-easycab.site'&&(alert('Unauthorized\x20access.\x20Redirecting\x20to\x20login\x20page...'),signOut(auth)[_0x5b707f(0x15a)](()=>{const _0x39f813=_0x5b707f;window[_0x39f813(0x15f)]['href']=_0x39f813(0x152);}));}else window[_0x5b707f(0x15f)]['href']='../Driver\x20&\x20Taxi\x20Login/EMP_Login.html';});async function generateUniqueEmail(_0x19bd4d){const _0x12f7f8=_0x5d735c;let _0x3cc5bf=_0x19bd4d[_0x12f7f8(0x166)]()[_0x12f7f8(0x16f)](/\s+/g,'')+'@emp-easycab.site';const _0x3f688b=query(collection(db,_0x12f7f8(0x176)),where(_0x12f7f8(0x173),'==',_0x3cc5bf)),_0x4b47cc=await getDocs(_0x3f688b);if(!_0x4b47cc[_0x12f7f8(0x156)]){let _0x5e71d9=0x1;while(!_0x4b47cc[_0x12f7f8(0x156)]){_0x3cc5bf=''+_0x19bd4d[_0x12f7f8(0x166)]()[_0x12f7f8(0x16f)](/\s+/g,'')+_0x5e71d9+'@emp-easycab.site';const _0x72bdcd=query(collection(db,_0x12f7f8(0x176)),where('email','==',_0x3cc5bf)),_0x433e3e=await getDocs(_0x72bdcd);if(_0x433e3e[_0x12f7f8(0x156)])break;_0x5e71d9++;}}return _0x3cc5bf;}document['getElementById'](_0x5d735c(0x172))[_0x5d735c(0x157)]('input',async()=>{const _0x449ecc=_0x5d735c,_0xe6c97a=document[_0x449ecc(0x16a)](_0x449ecc(0x172))[_0x449ecc(0x148)];if(_0xe6c97a){const _0x1e499a=await generateUniqueEmail(_0xe6c97a);document['getElementById'](_0x449ecc(0x173))[_0x449ecc(0x148)]=_0x1e499a;}else document['getElementById'](_0x449ecc(0x173))[_0x449ecc(0x148)]='';}),document[_0x5d735c(0x16a)](_0x5d735c(0x14e))[_0x5d735c(0x157)](_0x5d735c(0x169),async _0x30ab45=>{const _0xb8cdda=_0x5d735c;_0x30ab45[_0xb8cdda(0x15c)]();const _0x3c05ee=document[_0xb8cdda(0x16a)](_0xb8cdda(0x172))[_0xb8cdda(0x148)],_0x29d21e=document['getElementById']('email')['value'],_0x3673d8=document[_0xb8cdda(0x16a)](_0xb8cdda(0x179))[_0xb8cdda(0x148)],_0x459c54=document['getElementById'](_0xb8cdda(0x14d))['value'],_0x466111=document[_0xb8cdda(0x16a)]('address')[_0xb8cdda(0x148)],_0x4e8698=document[_0xb8cdda(0x16a)](_0xb8cdda(0x16c))[_0xb8cdda(0x148)],_0x3ea0a9=document[_0xb8cdda(0x16a)](_0xb8cdda(0x161))[_0xb8cdda(0x15e)][0x0],_0x1539a2=document[_0xb8cdda(0x16a)](_0xb8cdda(0x164));try{const _0x36094a=await createUserWithEmailAndPassword(auth,_0x29d21e,_0x3673d8),_0x4d6f9f=_0x36094a[_0xb8cdda(0x175)];if(_0x4d6f9f){const _0x638c05=ref(storage,_0xb8cdda(0x150)+_0x4d6f9f[_0xb8cdda(0x174)]+_0xb8cdda(0x151)+_0x3ea0a9[_0xb8cdda(0x172)]);await uploadBytes(_0x638c05,_0x3ea0a9);const _0x5e741e=await getDownloadURL(_0x638c05);await setDoc(doc(db,_0xb8cdda(0x176),_0x4d6f9f['uid']),{'name':_0x3c05ee,'email':_0x29d21e,'age':_0x459c54,'address':_0x466111,'licenceNumber':_0x4e8698,'profilePic':_0x5e741e}),_0x1539a2[_0xb8cdda(0x159)]='Registration\x20completed!',_0x1539a2[_0xb8cdda(0x171)]=_0xb8cdda(0x14b),_0x1539a2[_0xb8cdda(0x167)][_0xb8cdda(0x160)]=_0xb8cdda(0x168),setTimeout(()=>{const _0x260451=_0xb8cdda;_0x1539a2[_0x260451(0x167)][_0x260451(0x160)]=_0x260451(0x15b);},0xbb8),document[_0xb8cdda(0x16a)](_0xb8cdda(0x14e))[_0xb8cdda(0x154)]();}}catch(_0xcf520a){console[_0xb8cdda(0x163)]('Error\x20registering\x20employee:\x20',_0xcf520a),_0x1539a2[_0xb8cdda(0x159)]=_0xb8cdda(0x149)+_0xcf520a['message'],_0x1539a2[_0xb8cdda(0x171)]=_0xb8cdda(0x177),_0x1539a2[_0xb8cdda(0x167)][_0xb8cdda(0x160)]=_0xb8cdda(0x168),setTimeout(()=>{const _0x3153ce=_0xb8cdda;_0x1539a2[_0x3153ce(0x167)][_0x3153ce(0x160)]='none';},0xbb8);}});
