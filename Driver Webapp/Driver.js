const _0x4a8655=_0x25e8;(function(_0x43812e,_0x4ef66e){const _0x24b50f=_0x25e8,_0x466187=_0x43812e();while(!![]){try{const _0x37aea5=-parseInt(_0x24b50f(0x12a))/0x1*(-parseInt(_0x24b50f(0x113))/0x2)+parseInt(_0x24b50f(0x138))/0x3+parseInt(_0x24b50f(0x145))/0x4+parseInt(_0x24b50f(0x106))/0x5+-parseInt(_0x24b50f(0x115))/0x6*(parseInt(_0x24b50f(0x14c))/0x7)+parseInt(_0x24b50f(0x119))/0x8*(parseInt(_0x24b50f(0x109))/0x9)+-parseInt(_0x24b50f(0x10a))/0xa;if(_0x37aea5===_0x4ef66e)break;else _0x466187['push'](_0x466187['shift']());}catch(_0x3a84c4){_0x466187['push'](_0x466187['shift']());}}}(_0x58a3,0x32fc9));function _0x25e8(_0x1aa1fe,_0x1ee03f){const _0x58a314=_0x58a3();return _0x25e8=function(_0x25e859,_0x494338){_0x25e859=_0x25e859-0x105;let _0x1e718d=_0x58a314[_0x25e859];return _0x1e718d;},_0x25e8(_0x1aa1fe,_0x1ee03f);}import{initializeApp}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js';import{getAuth,GoogleAuthProvider,signInWithPopup,onAuthStateChanged,signOut}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-auth.js';import{getFirestore,query,collection,where,getDocs,doc,getDoc,setDoc}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js';const firebaseConfig={'apiKey':_0x4a8655(0x107),'authDomain':_0x4a8655(0x155),'projectId':_0x4a8655(0x137),'storageBucket':_0x4a8655(0x154),'messagingSenderId':_0x4a8655(0x126),'appId':'1:621065707054:web:8b47875a751d361f2e09bf'},app=initializeApp(firebaseConfig),auth=getAuth(app),db=getFirestore(app),loginContainer=document[_0x4a8655(0x14e)](_0x4a8655(0x12d)),dashboard=document[_0x4a8655(0x14e)](_0x4a8655(0x14d)),googleLoginBtn=document[_0x4a8655(0x14e)](_0x4a8655(0x136)),logoutBtn=document[_0x4a8655(0x14e)](_0x4a8655(0x13e)),bookingDiv=document['getElementById'](_0x4a8655(0x158)),verifyQR=document[_0x4a8655(0x14e)](_0x4a8655(0x151)),paymentQR=document[_0x4a8655(0x14e)](_0x4a8655(0x10d)),driverName=document[_0x4a8655(0x14e)]('driverName'),driverProfilePic=document[_0x4a8655(0x14e)](_0x4a8655(0x117)),generateQRCodeBtn=document['getElementById']('generateQRCodeBtn'),timerDisplay=document['getElementById']('timerDisplay');let logoutTimer,countdownTimer,driverDetailsContainer;googleLoginBtn['onclick']=async()=>{const _0x48cb32=_0x4a8655,_0xd606e7=new GoogleAuthProvider();try{const _0x26a695=await signInWithPopup(auth,_0xd606e7),_0x3513a7=_0x26a695[_0x48cb32(0x142)];await saveDriverDetails(_0x3513a7);}catch(_0x306078){console['error'](_0x48cb32(0x124),_0x306078);}},onAuthStateChanged(auth,async _0x3791ef=>{const _0x50950c=_0x4a8655;if(_0x3791ef){loginContainer[_0x50950c(0x12c)][_0x50950c(0x14b)]=_0x50950c(0x10f),dashboard[_0x50950c(0x12c)]['display']=_0x50950c(0x148),driverName[_0x50950c(0x13f)]=_0x3791ef[_0x50950c(0x135)],driverProfilePic[_0x50950c(0x116)]=_0x3791ef[_0x50950c(0x12b)]||'',await fetchBookingDetails(_0x3791ef['displayName']);const _0x459231=await fetchDriverDetails(_0x3791ef[_0x50950c(0x128)]);driverDetailsContainer=document['getElementById']('driverInfoContainer'),generateQRCodes(_0x459231),displayDriverDetails(_0x459231),resetLogoutTimer(),document[_0x50950c(0x150)](_0x50950c(0x141),resetLogoutTimer),document[_0x50950c(0x150)](_0x50950c(0x139),resetLogoutTimer);}else loginContainer[_0x50950c(0x12c)][_0x50950c(0x14b)]=_0x50950c(0x148),dashboard['style']['display']=_0x50950c(0x10f);}),logoutBtn['onclick']=()=>signOut(auth);async function saveDriverDetails(_0x248cc5){const _0x3878c9=_0x4a8655,_0x6bc947=doc(db,_0x3878c9(0x112),_0x248cc5['uid']),_0x44f1c4=await getDoc(_0x6bc947);!_0x44f1c4[_0x3878c9(0x118)]()&&await setDoc(_0x6bc947,{'name':_0x248cc5['displayName'],'email':_0x248cc5[_0x3878c9(0x11b)],'profilePic':_0x248cc5[_0x3878c9(0x12b)]||'','createdAt':new Date(),'bookings':[]});}function _0x58a3(){const _0x586e07=['260yiJIoc','Verify\x20Driver\x20&\x20Payment\x20QR\x20Code\x20expired.','9726efGiVh','src','driverProfilePic','exists','12464zMdLAB','innerHTML','email','passengerName','error','\x20seconds','\x0a\x20\x20\x20\x20\x20\x20<h3>','\x22\x20alt=\x22Driver\x20Profile\x20Picture\x22\x20style=\x22width:\x20100px;\x20height:\x20100px;\x20border-radius:\x2050%;\x22>\x0a\x20\x20\x20\x20','../Driver\x20Webapp/service-worker.js','bookings','profilePic','Login\x20Error:','then','621065707054','</h4>\x0a\x20\x20\x20\x20\x20\x20<p>From:\x20','uid','pickupLocation','1411QwXdOL','photoURL','style','login-container','&mc=yourmc&tid=yourtid&am=0.01&cu=INR&url=https://easycab.site','\x0a\x20\x20\x20\x20\x20\x20<h4>Booking\x20for\x20','booking-card','</p>\x0a\x20\x20\x20\x20','dropLocation','https://api.qrserver.com/v1/create-qr-code/?data=','Name:\x20','displayName','googleLoginBtn','easycab-71fcf','549885CuNvyZ','keypress','</p>\x0a\x20\x20\x20\x20\x20\x20<img\x20src=\x22','</h3>\x0a\x20\x20\x20\x20\x20\x20<p>Email:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20<p>Date:\x20','Service\x20Worker\x20registered\x20with\x20scope:','logoutBtn','textContent','time','mousemove','user',',\x20Email:\x20','div','1574884ntyIfb','classList','toLocaleDateString','block','name','Please\x20log\x20in\x20to\x20generate\x20QR\x20codes.','display','637jSmvds','dashboard','getElementById','log','addEventListener','verifyQR','Driver\x20details\x20element\x20not\x20found.','\x20QR\x20Code\x20scanned.','easycab-71fcf.appspot.com','easycab-71fcf.firebaseapp.com','data','Verify\x20Driver\x20&\x20Payment\x20QR\x20Code\x20valid\x20for:\x20','bookingDiv','add','serviceWorker',',\x20Profile\x20Pic:\x20','saveQRCodeScan','688415lBCLIf','AIzaSyCDD_suBufBLAXzLjV0YPoIq1XU_nOVaBQ','load','1629gjKXEs','8237750JoWFHQ','QR\x20Code\x20expired.\x20Please\x20ask\x20the\x20driver\x20to\x20generate\x20a\x20new\x20code\x20and\x20scan\x20it.','scope','paymentQR','</p>\x0a\x20\x20\x20\x20\x20\x20<p>To:\x20','none','Service\x20Worker\x20registration\x20failed:','currentUser','drivers'];_0x58a3=function(){return _0x586e07;};return _0x58a3();}async function fetchBookingDetails(_0x78f3a5){const _0x38ce33=_0x4a8655,_0x306706=collection(db,_0x38ce33(0x122)),_0x5c3c51=query(_0x306706,where('driverName','==',_0x78f3a5)),_0x447208=await getDocs(_0x5c3c51);bookingDiv[_0x38ce33(0x11a)]='',_0x447208['forEach'](_0x11747b=>{const _0x573dd1=_0x38ce33,_0x15a1c7=_0x11747b[_0x573dd1(0x156)](),_0x1a1586=document['createElement'](_0x573dd1(0x144));_0x1a1586[_0x573dd1(0x146)][_0x573dd1(0x159)](_0x573dd1(0x130)),_0x1a1586[_0x573dd1(0x11a)]=_0x573dd1(0x12f)+_0x15a1c7[_0x573dd1(0x11c)]+_0x573dd1(0x127)+_0x15a1c7[_0x573dd1(0x129)]+_0x573dd1(0x10e)+_0x15a1c7[_0x573dd1(0x132)]+_0x573dd1(0x13c)+new Date(_0x15a1c7['date'])[_0x573dd1(0x147)]()+'</p>\x0a\x20\x20\x20\x20\x20\x20<p>Time:\x20'+_0x15a1c7[_0x573dd1(0x140)]+_0x573dd1(0x131),bookingDiv['appendChild'](_0x1a1586);});}async function fetchDriverDetails(_0x54e225){const _0x3c3234=_0x4a8655,_0x1bbaac=doc(db,_0x3c3234(0x112),_0x54e225),_0x205f75=await getDoc(_0x1bbaac);return _0x205f75[_0x3c3234(0x156)]();}function displayDriverDetails(_0x4ea70e){const _0x1641a6=_0x4a8655;driverDetailsContainer?driverDetailsContainer[_0x1641a6(0x11a)]=_0x1641a6(0x11f)+_0x4ea70e[_0x1641a6(0x149)]+_0x1641a6(0x13b)+_0x4ea70e[_0x1641a6(0x11b)]+_0x1641a6(0x13a)+(_0x4ea70e[_0x1641a6(0x123)]||'')+_0x1641a6(0x120):console[_0x1641a6(0x11d)](_0x1641a6(0x152));}function generateQRCodes(_0x57b69d){const _0x51209f=_0x4a8655,_0x38002a=_0x51209f(0x134)+_0x57b69d[_0x51209f(0x149)]+_0x51209f(0x143)+_0x57b69d[_0x51209f(0x11b)]+_0x51209f(0x15b)+(_0x57b69d['profilePic']||''),_0x203bca='upi:\x209854587777@ptaxis&pn='+_0x57b69d[_0x51209f(0x149)]+_0x51209f(0x12e);verifyQR[_0x51209f(0x116)]='https://api.qrserver.com/v1/create-qr-code/?data='+encodeURIComponent(_0x38002a),paymentQR['src']=_0x51209f(0x133)+encodeURIComponent(_0x203bca),startCountdown();}function startCountdown(){const _0x435ee6=_0x4a8655;let _0x44a117=0x1e;timerDisplay['textContent']=_0x435ee6(0x157)+_0x44a117+_0x435ee6(0x11e),clearInterval(countdownTimer),countdownTimer=setInterval(()=>{const _0x93f4f3=_0x435ee6;_0x44a117--,timerDisplay['textContent']=_0x93f4f3(0x157)+_0x44a117+_0x93f4f3(0x11e),_0x44a117<=0x0&&(clearInterval(countdownTimer),timerDisplay[_0x93f4f3(0x13f)]=_0x93f4f3(0x114),hideDriverDetails());},0x3e8);}function hideDriverDetails(){const _0x31dc4c=_0x4a8655;driverDetailsContainer?(driverDetailsContainer['innerHTML']='',alert(_0x31dc4c(0x10b))):console[_0x31dc4c(0x11d)](_0x31dc4c(0x152));}window[_0x4a8655(0x105)]=function(_0x50a438){const _0x37cae2=_0x4a8655;console['log'](_0x50a438+_0x37cae2(0x153));};_0x4a8655(0x15a)in navigator&&window[_0x4a8655(0x150)](_0x4a8655(0x108),()=>{const _0x3d5788=_0x4a8655;navigator[_0x3d5788(0x15a)]['register'](_0x3d5788(0x121))[_0x3d5788(0x125)](_0xc168a2=>{const _0x12fe7b=_0x3d5788;console[_0x12fe7b(0x14f)](_0x12fe7b(0x13d),_0xc168a2[_0x12fe7b(0x10c)]);})['catch'](_0x3d24ef=>{const _0x49a174=_0x3d5788;console[_0x49a174(0x11d)](_0x49a174(0x110),_0x3d24ef);});});document[_0x4a8655(0x150)]('DOMContentLoaded',async()=>{const _0x570c18=_0x4a8655,_0x4d36e1=auth[_0x570c18(0x111)];if(_0x4d36e1){const _0x4c7aa9=await fetchDriverDetails(_0x4d36e1[_0x570c18(0x128)]);displayDriverDetails(_0x4c7aa9);}}),generateQRCodeBtn['onclick']=async()=>{const _0x49baf1=_0x4a8655,_0x4487d7=auth[_0x49baf1(0x111)];if(_0x4487d7){const _0x2bf6ff=await fetchDriverDetails(_0x4487d7[_0x49baf1(0x128)]);generateQRCodes(_0x2bf6ff);}else alert(_0x49baf1(0x14a));};
