function _0x316a(_0x3c100b,_0x47f586){const _0x32cc27=_0x32cc();return _0x316a=function(_0x316a8a,_0x35d937){_0x316a8a=_0x316a8a-0x139;let _0x237c32=_0x32cc27[_0x316a8a];return _0x237c32;},_0x316a(_0x3c100b,_0x47f586);}const _0x5ad4c1=_0x316a;(function(_0x45a85c,_0x49405d){const _0x35f2d3=_0x316a,_0x209581=_0x45a85c();while(!![]){try{const _0x40f0da=-parseInt(_0x35f2d3(0x147))/0x1*(-parseInt(_0x35f2d3(0x13a))/0x2)+-parseInt(_0x35f2d3(0x145))/0x3*(parseInt(_0x35f2d3(0x14c))/0x4)+-parseInt(_0x35f2d3(0x13e))/0x5+-parseInt(_0x35f2d3(0x155))/0x6*(parseInt(_0x35f2d3(0x146))/0x7)+-parseInt(_0x35f2d3(0x157))/0x8*(parseInt(_0x35f2d3(0x142))/0x9)+parseInt(_0x35f2d3(0x171))/0xa+parseInt(_0x35f2d3(0x149))/0xb*(parseInt(_0x35f2d3(0x165))/0xc);if(_0x40f0da===_0x49405d)break;else _0x209581['push'](_0x209581['shift']());}catch(_0x17cfcb){_0x209581['push'](_0x209581['shift']());}}}(_0x32cc,0x8885f));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js';function _0x32cc(){const _0xe96d22=['textContent','error','Post\x20Notice','editNotice','18847812YVdhoA','easycab-71fcf.firebaseapp.com','split','\x27)\x22>Edit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteNotice(\x27','users','Unknown','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','noticeContent','uid','AIzaSyCDD_suBufBLAXzLjV0YPoIq1XU_nOVaBQ','\x27)\x22>Delete</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','easycab-71fcf','7895670AwrlVV','postedBy','content','Error\x20adding\x20notice:\x20','toDate','noticeForm','title','21992WYuzWY','deleteNotice','preventDefault','Anonymous','3820420AnZeZX','reset','No\x20date\x20available','noticesContainer','108pHeucM','noticeSubmitBtn','getElementById','3RRqApZ','21NAHSAm','40fRpjkl','noticeTitle','22HfuaTW','1:621065707054:web:8b47875a751d361f2e09bf','Error\x20deleting\x20notice:\x20','4402868dvyJtV','name','createdAt','add','forEach','easycab-71fcf.appspot.com','email','createElement','data','2203986abFCjx','621065707054','563144wDXzCV','onload','value','appendChild','exists','div','VITian\x20Notice','innerHTML','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta\x22>Posted\x20by:\x20','Update\x20Notice'];_0x32cc=function(){return _0xe96d22;};return _0x32cc();}import{getFirestore,collection,addDoc,getDocs,updateDoc,doc,getDoc,serverTimestamp,deleteDoc}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-auth.js';const firebaseConfig={'apiKey':_0x5ad4c1(0x16e),'authDomain':_0x5ad4c1(0x166),'projectId':_0x5ad4c1(0x170),'storageBucket':_0x5ad4c1(0x151),'messagingSenderId':_0x5ad4c1(0x156),'appId':_0x5ad4c1(0x14a)},app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app),noticesCollection=collection(db,_0x5ad4c1(0x15d));let currentUserName='',currentNoticeId=null;onAuthStateChanged(auth,async _0x499d18=>{const _0x5ddaac=_0x5ad4c1;if(_0x499d18){const _0x156fa2=doc(db,_0x5ddaac(0x169),_0x499d18[_0x5ddaac(0x16d)]),_0x288188=await getDoc(_0x156fa2);if(_0x288188[_0x5ddaac(0x15b)]()){const _0x298b92=_0x288188[_0x5ddaac(0x154)]();currentUserName=_0x298b92['name']||_0x499d18[_0x5ddaac(0x152)][_0x5ddaac(0x167)]('@')[0x0];}else currentUserName=_0x499d18[_0x5ddaac(0x152)][_0x5ddaac(0x167)]('@')[0x0];}else currentUserName=_0x5ddaac(0x13d);const _0x3c3b98=document['getElementById'](_0x5ddaac(0x14d));_0x3c3b98&&(_0x3c3b98[_0x5ddaac(0x161)]=currentUserName);});async function saveNotice(_0x1382b0,_0x31a603){const _0x556c58=_0x5ad4c1;if(currentNoticeId)try{const _0x4bbc23=doc(db,_0x556c58(0x15d),currentNoticeId);await updateDoc(_0x4bbc23,{'title':_0x1382b0,'content':_0x31a603}),currentNoticeId=null,document['getElementById'](_0x556c58(0x143))[_0x556c58(0x161)]=_0x556c58(0x163);}catch(_0x200cb7){console[_0x556c58(0x162)]('Error\x20updating\x20notice:\x20',_0x200cb7);}else try{await addDoc(noticesCollection,{'title':_0x1382b0,'content':_0x31a603,'createdAt':serverTimestamp(),'postedBy':currentUserName});}catch(_0x33290b){console[_0x556c58(0x162)](_0x556c58(0x174),_0x33290b);}loadNotices();}async function loadNotices(){const _0x389d8c=_0x5ad4c1,_0x57a43b=document[_0x389d8c(0x144)](_0x389d8c(0x141));_0x57a43b['innerHTML']='';const _0x550b48=await getDocs(noticesCollection);_0x550b48[_0x389d8c(0x150)](_0x3e01c9=>{const _0x59b75d=_0x389d8c,_0x464772=_0x3e01c9[_0x59b75d(0x154)](),_0x276617=document[_0x59b75d(0x153)](_0x59b75d(0x15c));_0x276617['classList'][_0x59b75d(0x14f)]('notice-item');const _0x277189=_0x464772[_0x59b75d(0x14e)]?_0x464772[_0x59b75d(0x14e)][_0x59b75d(0x175)]()['toLocaleString']():_0x59b75d(0x140);_0x276617[_0x59b75d(0x15e)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>'+_0x464772[_0x59b75d(0x139)]+_0x59b75d(0x15f)+(_0x464772[_0x59b75d(0x172)]||_0x59b75d(0x16a))+'\x20|\x20Date:\x20'+_0x277189+_0x59b75d(0x16b)+_0x464772[_0x59b75d(0x173)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22editNotice(\x27'+_0x3e01c9['id']+_0x59b75d(0x168)+_0x3e01c9['id']+_0x59b75d(0x16f),_0x57a43b[_0x59b75d(0x15a)](_0x276617);});}window[_0x5ad4c1(0x164)]=async function(_0x5779b2){const _0x1d2a17=_0x5ad4c1,_0x23c5d4=doc(db,'VITian\x20Notice',_0x5779b2),_0x295717=await getDoc(_0x23c5d4);if(_0x295717['exists']()){const _0x52d6f8=_0x295717[_0x1d2a17(0x154)]();document['getElementById'](_0x1d2a17(0x148))['value']=_0x52d6f8['title'],document[_0x1d2a17(0x144)](_0x1d2a17(0x16c))[_0x1d2a17(0x159)]=_0x52d6f8[_0x1d2a17(0x173)],currentNoticeId=_0x5779b2,document[_0x1d2a17(0x144)]('noticeSubmitBtn')['textContent']=_0x1d2a17(0x160);}},window[_0x5ad4c1(0x13b)]=async function(_0x1bfbc5){const _0x1d8d01=_0x5ad4c1;try{await deleteDoc(doc(db,_0x1d8d01(0x15d),_0x1bfbc5)),loadNotices();}catch(_0x3aabb5){console['error'](_0x1d8d01(0x14b),_0x3aabb5);}},document['getElementById'](_0x5ad4c1(0x176))['addEventListener']('submit',async _0x49a376=>{const _0x2176ab=_0x5ad4c1;_0x49a376[_0x2176ab(0x13c)]();const _0x56c00b=document['getElementById'](_0x2176ab(0x148))['value'],_0x3264d1=document[_0x2176ab(0x144)]('noticeContent')[_0x2176ab(0x159)];await saveNotice(_0x56c00b,_0x3264d1),document[_0x2176ab(0x144)](_0x2176ab(0x176))[_0x2176ab(0x13f)]();}),window[_0x5ad4c1(0x158)]=loadNotices;
