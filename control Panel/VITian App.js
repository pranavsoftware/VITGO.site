const _0x1cbdaf=_0xd2da;(function(_0x3cf560,_0x52ee35){const _0x2d5837=_0xd2da,_0x4e205b=_0x3cf560();while(!![]){try{const _0x5a04c5=parseInt(_0x2d5837(0x1f2))/0x1+-parseInt(_0x2d5837(0x1bd))/0x2+parseInt(_0x2d5837(0x1e5))/0x3*(-parseInt(_0x2d5837(0x1b7))/0x4)+-parseInt(_0x2d5837(0x1e6))/0x5*(parseInt(_0x2d5837(0x1c4))/0x6)+parseInt(_0x2d5837(0x1f0))/0x7*(parseInt(_0x2d5837(0x1ee))/0x8)+parseInt(_0x2d5837(0x1d3))/0x9*(-parseInt(_0x2d5837(0x1c3))/0xa)+parseInt(_0x2d5837(0x1cc))/0xb;if(_0x5a04c5===_0x52ee35)break;else _0x4e205b['push'](_0x4e205b['shift']());}catch(_0x2b7635){_0x4e205b['push'](_0x4e205b['shift']());}}}(_0x2130,0xee885));import{initializeApp}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-app.js';import{getFirestore,collection,addDoc,getDocs,updateDoc,doc,getDoc,serverTimestamp,deleteDoc}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore.js';import{getAuth,onAuthStateChanged}from'https://www.gstatic.com/firebasejs/10.13.2/firebase-auth.js';const firebaseConfig={'apiKey':'AIzaSyCDD_suBufBLAXzLjV0YPoIq1XU_nOVaBQ','authDomain':_0x1cbdaf(0x1d6),'projectId':_0x1cbdaf(0x1be),'storageBucket':_0x1cbdaf(0x1e8),'messagingSenderId':_0x1cbdaf(0x1b9),'appId':_0x1cbdaf(0x1da)},app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app),noticesCollection=collection(db,_0x1cbdaf(0x1f4)),allowedEmails=[_0x1cbdaf(0x1ed),'raybanpranav.mahesh2023@vitstudent.ac.in','arye.chauhan2023@vitstudent.ac.in','akshay.mattoo2023@vitstudent.ac.in',_0x1cbdaf(0x1c2)];let currentUserName='',currentNoticeId=null;onAuthStateChanged(auth,async _0x3979cd=>{const _0x4cbad0=_0x1cbdaf;if(_0x3979cd){const _0x1e3ecf=_0x3979cd[_0x4cbad0(0x1df)];if(!allowedEmails['includes'](_0x1e3ecf)){alert(_0x4cbad0(0x1af)),window['location']=_0x4cbad0(0x1e1);return;}const _0x428996=doc(db,'users',_0x3979cd[_0x4cbad0(0x1dc)]),_0x1d46ad=await getDoc(_0x428996);if(_0x1d46ad[_0x4cbad0(0x1bb)]()){const _0x48da36=_0x1d46ad[_0x4cbad0(0x1ef)]();currentUserName=_0x48da36[_0x4cbad0(0x1ba)]||_0x3979cd[_0x4cbad0(0x1df)][_0x4cbad0(0x1cd)]('@')[0x0];}else currentUserName=_0x3979cd[_0x4cbad0(0x1df)]['split']('@')[0x0];}else{alert(_0x4cbad0(0x1c6)),window[_0x4cbad0(0x1cf)]=_0x4cbad0(0x1e1);return;}const _0x5a1b1c=document[_0x4cbad0(0x1c1)](_0x4cbad0(0x1ba));_0x5a1b1c&&(_0x5a1b1c[_0x4cbad0(0x1bf)]=currentUserName);});async function saveNotice(_0xa1a749,_0x3c1c3a){const _0x4138e2=_0x1cbdaf;if(currentNoticeId)try{const _0x3357aa=doc(db,_0x4138e2(0x1f4),currentNoticeId);await updateDoc(_0x3357aa,{'title':_0xa1a749,'content':_0x3c1c3a}),currentNoticeId=null,document['getElementById'](_0x4138e2(0x1ec))[_0x4138e2(0x1bf)]=_0x4138e2(0x1c8);}catch(_0x41b120){console['error'](_0x4138e2(0x1e7),_0x41b120);}else try{await addDoc(noticesCollection,{'title':_0xa1a749,'content':_0x3c1c3a,'createdAt':serverTimestamp(),'postedBy':currentUserName});}catch(_0x458836){console[_0x4138e2(0x1ce)](_0x4138e2(0x1d1),_0x458836);}loadNotices();}async function loadNotices(){const _0x1a9e7b=_0x1cbdaf,_0x17a8a3=document[_0x1a9e7b(0x1c1)](_0x1a9e7b(0x1d8));_0x17a8a3[_0x1a9e7b(0x1d7)]='',showLoading();const _0x4e10b2=await getDocs(noticesCollection);_0x4e10b2[_0x1a9e7b(0x1f3)](_0x1c88a9=>{const _0x49ec0f=_0x1a9e7b,_0x1d6255=_0x1c88a9[_0x49ec0f(0x1ef)](),_0x361fbb=document['createElement']('div');_0x361fbb[_0x49ec0f(0x1b5)][_0x49ec0f(0x1e2)](_0x49ec0f(0x1b2));const _0x13e317=_0x1d6255[_0x49ec0f(0x1b1)]?_0x1d6255[_0x49ec0f(0x1b1)][_0x49ec0f(0x1ae)]()['toLocaleString']():_0x49ec0f(0x1d0);_0x361fbb[_0x49ec0f(0x1d7)]=_0x49ec0f(0x1e4)+_0x1d6255[_0x49ec0f(0x1dd)]+_0x49ec0f(0x1f1)+(_0x1d6255[_0x49ec0f(0x1e3)]||_0x49ec0f(0x1cb))+_0x49ec0f(0x1b8)+_0x13e317+_0x49ec0f(0x1e9)+_0x1d6255[_0x49ec0f(0x1c9)]+_0x49ec0f(0x1d9)+_0x1c88a9['id']+_0x49ec0f(0x1c7)+_0x1c88a9['id']+_0x49ec0f(0x1b6),_0x17a8a3['appendChild'](_0x361fbb);}),hideLoading();}function _0xd2da(_0xe547e6,_0x59f308){const _0x213073=_0x2130();return _0xd2da=function(_0xd2da61,_0x3665d7){_0xd2da61=_0xd2da61-0x1ae;let _0x5dc239=_0x213073[_0xd2da61];return _0x5dc239;},_0xd2da(_0xe547e6,_0x59f308);}window[_0x1cbdaf(0x1de)]=async function(_0x5c7b45){const _0x5bdfcd=_0x1cbdaf,_0x40d17f=doc(db,_0x5bdfcd(0x1f4),_0x5c7b45),_0x1e3737=await getDoc(_0x40d17f);if(_0x1e3737[_0x5bdfcd(0x1bb)]()){const _0x183fa7=_0x1e3737['data']();document['getElementById'](_0x5bdfcd(0x1c0))['value']=_0x183fa7['title'],document[_0x5bdfcd(0x1c1)](_0x5bdfcd(0x1c5))[_0x5bdfcd(0x1b3)]=_0x183fa7['content'],currentNoticeId=_0x5c7b45,document[_0x5bdfcd(0x1c1)](_0x5bdfcd(0x1ec))[_0x5bdfcd(0x1bf)]='Update\x20Notice';}},window[_0x1cbdaf(0x1ca)]=async function(_0x184866){const _0x4233c2=_0x1cbdaf;try{await deleteDoc(doc(db,_0x4233c2(0x1f4),_0x184866)),loadNotices();}catch(_0x402a89){console[_0x4233c2(0x1ce)](_0x4233c2(0x1d4),_0x402a89);}};function _0x2130(){const _0x19b3b9=['\x27)\x22>Delete</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','84DncCtX','\x20|\x20Date:\x20','621065707054','name','exists','submit','391764AcLWQO','easycab-71fcf','textContent','noticeTitle','getElementById','atharva.mahesh2022@vitstudent.ac.in','125690GrtGEz','6MyusJe','noticeContent','You\x20are\x20not\x20logged\x20in.\x20Please\x20log\x20in\x20to\x20access\x20this\x20page.','\x27)\x22>Edit</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22deleteNotice(\x27','Post\x20Notice','content','deleteNotice','Unknown','642455zGjWfZ','split','error','location','No\x20date\x20available','Error\x20adding\x20notice:\x20','onload','297KIlhQv','Error\x20deleting\x20notice:\x20','display','easycab-71fcf.firebaseapp.com','innerHTML','noticesContainer','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22editNotice(\x27','1:621065707054:web:8b47875a751d361f2e09bf','noticeForm','uid','title','editNotice','email','spinner','../control\x20Panel/login.html','add','postedBy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>','72498khKXrv','6343945npNnWR','Error\x20updating\x20notice:\x20','easycab-71fcf.appspot.com','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>','preventDefault','flex','noticeSubmitBtn','padmapriya.r@vit.ac.in','248048GhHhAN','data','385dlHbkt','</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22meta\x22>Posted\x20by:\x20','1600228CQNWoM','forEach','VITian\x20Notice','toDate','You\x20do\x20not\x20have\x20access\x20to\x20this\x20page.','style','createdAt','notice-item','value','none','classList'];_0x2130=function(){return _0x19b3b9;};return _0x2130();}function showLoading(){const _0x31e52f=_0x1cbdaf,_0x702fc1=document[_0x31e52f(0x1c1)](_0x31e52f(0x1e0));_0x702fc1[_0x31e52f(0x1b0)][_0x31e52f(0x1d5)]=_0x31e52f(0x1eb);}function hideLoading(){const _0x284cbf=_0x1cbdaf,_0x5e5ada=document[_0x284cbf(0x1c1)](_0x284cbf(0x1e0));_0x5e5ada['style'][_0x284cbf(0x1d5)]=_0x284cbf(0x1b4);}document[_0x1cbdaf(0x1c1)](_0x1cbdaf(0x1db))['addEventListener'](_0x1cbdaf(0x1bc),async _0x2d3667=>{const _0x1bccf0=_0x1cbdaf;_0x2d3667[_0x1bccf0(0x1ea)]();const _0x4c8328=document['getElementById'](_0x1bccf0(0x1c0))[_0x1bccf0(0x1b3)],_0x544f66=document[_0x1bccf0(0x1c1)]('noticeContent')[_0x1bccf0(0x1b3)];await saveNotice(_0x4c8328,_0x544f66),document[_0x1bccf0(0x1c1)]('noticeForm')['reset']();}),window[_0x1cbdaf(0x1d2)]=loadNotices;
